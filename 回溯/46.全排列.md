### **46. å…¨æ’åˆ—**

------

#### ğŸ§  é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª **æ— é‡å¤** æ•´æ•°æ•°ç»„ `nums`ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚
 ä¾‹å¦‚ï¼Œè¾“å…¥ `[1,2,3]`ï¼Œè¾“å‡ºï¼š

```
[
  [1,2,3],
  [1,3,2],
  [2,1,3],
  [2,3,1],
  [3,1,2],
  [3,2,1]
]
```

------

#### ğŸ’¡ è§£é¢˜æ€è·¯

ä½¿ç”¨ **å›æº¯ï¼ˆBacktrackingï¼‰** æšä¸¾æ¯ä¸€ç§å¯èƒ½çš„é¡ºåºï¼š

1. **çŠ¶æ€**

   - `path`ï¼šå½“å‰å·²ç»æ‹¼å¥½çš„æ’åˆ—ã€‚
   - `used[i]`ï¼šæ ‡è®° `nums[i]` æ˜¯å¦å·²åŠ å…¥ `path`ã€‚

2. **é€‰æ‹©åˆ—è¡¨**

   - åœ¨æ¯ä¸€å±‚é€’å½’ä¸­ï¼Œéå†æ‰€æœ‰ `i = 0â€¦n-1`ï¼Œå¦‚æœ `used[i] == false` åˆ™å¯ä»¥é€‰æ‹© `nums[i]`ã€‚

3. **å‰ªæ/å»é‡**

   - ç”±äºè¾“å…¥æ— é‡å¤æ•°å­—ï¼Œç›´æ¥é€šè¿‡ `used[]` ä¿è¯åŒä¸€ä¸ªå…ƒç´ ä¸ä¼šè¢«é‡å¤é€‰å–ã€‚

4. **ç»ˆæ­¢æ¡ä»¶**

   - å½“ `path.size() == nums.length` æ—¶ï¼Œæ‹¼å‡ºäº†ä¸€ç§å®Œæ•´æ’åˆ—ï¼Œå°†å…¶åŠ å…¥ç»“æœã€‚

5. **å›æº¯æµç¨‹**

   ```text
   é€‰æ‹© nums[i] â†’ æ ‡è®° used[i]=true â†’ path.add(nums[i])
     â†³ é€’å½’ backtracking(nums)
   å›é€€ï¼špath.remove(last) â†’ used[i]=false
   ```

------

#### âœ… ä»£ç å®ç°ï¼ˆå¸¦ä¸­æ–‡æ³¨é‡Šï¼‰

```java
class Solution {
    // å­˜æ”¾æ‰€æœ‰æ’åˆ—ç»“æœ
    private List<List<Integer>> result = new ArrayList<>();
    // ç”¨äºæ„é€ å½“å‰æ’åˆ—è·¯å¾„
    private List<Integer> path = new ArrayList<>();
    // æ ‡è®° nums ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦å·²è¢«ä½¿ç”¨
    private boolean[] used;

    public List<List<Integer>> permute(int[] nums) {
        // åˆå§‹åŒ– used æ•°ç»„
        used = new boolean[nums.length];
        // ä»ç©ºè·¯å¾„å¼€å§‹å›æº¯
        backtracking(nums);
        return result;
    }

    private void backtracking(int[] nums) {
        // é€’å½’ç»ˆæ­¢ï¼šå½“å‰ path é•¿åº¦ç­‰äº nums é•¿åº¦ï¼Œæ„é€ å‡ºä¸€ä¸ªå®Œæ•´æ’åˆ—
        if (path.size() == nums.length) {
            result.add(new ArrayList<>(path)); // è®°å¾—åšæ·±æ‹·è´
            return;
        }

        // æšä¸¾å¯é€‰çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
        for (int i = 0; i < nums.length; i++) {
            // å¦‚æœ nums[i] å·²ç»åœ¨æœ¬æ¡è·¯å¾„ä¸­ä½¿ç”¨ï¼Œåˆ™è·³è¿‡
            if (used[i]) {
                continue;
            }
            // é€‰æ‹© nums[i]
            used[i] = true;
            path.add(nums[i]);

            // é€’å½’å¡«ä¸‹ä¸€ä¸ªä½ç½®
            backtracking(nums);

            // å›æº¯ï¼šæ’¤é”€é€‰æ‹©ï¼Œæ¢å¤çŠ¶æ€
            path.remove(path.size() - 1);
            used[i] = false;
        }
    }
}
```

------

#### â± æ—¶é—´å¤æ‚åº¦

- å…¨æ’åˆ—å…±æœ‰ `n!` ç§ç»“æœï¼Œæ¯ç§ç»“æœéœ€è¦ `O(n)` æ—¶é—´æ‹·è´åˆ° `result`ï¼Œ
- æ€»æ—¶é—´å¤æ‚åº¦çº¦ä¸º `O(n Ã— n!)`ã€‚

#### ğŸ§® ç©ºé—´å¤æ‚åº¦

- é€’å½’æ ˆæ·±åº¦ä¸º `O(n)`ï¼›
- `used` æ•°ç»„ä¸º `O(n)`ï¼›
- `result` å­˜å‚¨æ‰€æœ‰æ’åˆ—ä¸º `O(n Ã— n!)`ã€‚

------

#### ğŸ”š å°ç»“

- **å›æº¯æ¨¡æ¿**ï¼šé€‰æ‹© â†’ é€’å½’ â†’ æ’¤é”€ï¼Œé…åˆ `used[]` æ ‡è®°é¿å…é‡å¤ä½¿ç”¨å…ƒç´ ã€‚
- æ¯åˆ°ä¸€å±‚ï¼Œéƒ½å°è¯•æ‰€æœ‰ã€Œæœªç”¨ã€å…ƒç´ ï¼Œç›´è‡³è·¯å¾„é•¿åº¦è¾¾ `n`ï¼Œå³å¯æ”¶é›†ä¸€ç§æ’åˆ—ã€‚