### **122. 买卖股票的最佳时机 II**

------

#### 📜 题目描述

给定一个数组 `prices`，其中 `prices[i]` 表示第 `i` 天某只股票的价格。你可以在任意多天内完成多笔交易（买入后必须先卖出，且同一天内只能持有一股），求最高利润。

------

#### 💡 解题思路（贪心）

由于可以进行无限次交易，每当明天价格高于今天，就可以「低买高卖」赚取差价。最终的最大利润即为所有相邻上涨区间的价格差之和：

```
maxProfit = Σ max(prices[i] - prices[i-1], 0)，i=1…n-1
```

这样做等价于把所有上涨的小坡段都累加起来，既简洁又高效。

------

#### ✅ 代码实现（Java，带注释）

```java
class Solution {
    public int maxProfit(int[] prices) {
        int result = 0;
        // 从第2天开始，如果今天价格比昨天高，就卖出赚差价
        for (int i = 1; i < prices.length; i++) {
            int diff = prices[i] - prices[i - 1];
            // 只累加正的差价，负的就跳过
            if (diff > 0) {
                result += diff;
            }
            // 等价于： result += Math.max(diff, 0);
        }
        return result;
    }
}
```

------

#### ⏱ 时间复杂度

- **O(n)**，只遍历一次 `prices` 数组。

#### 🧮 空间复杂度

- **O(1)**，仅使用常数级额外空间。

------

#### 🔚 小结

- 无限次交易的最优策略：**所有「波峰—波谷」差价**都要赚取。
- 只需要累加每次正向上涨的差值，无需显式地记录买入和卖出天数。